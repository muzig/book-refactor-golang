# 第一章

## 需求

1. 希望以HTML格式输出详单 
2. 计费标准发生变化
3. 希望改变影片分类规则
    * 影响计算方式
    * 影响积分方式

## 重构步骤

1. 建立可靠的测试环境 - 将原有系统的结果保留，与新系统产生的结果做比对
2. 测试
3. 小测试
4. 测试
5. 小测试
6. ...

## 小提示

1. 唯有写出人理解的代码，才是优秀的程序员；而不是只有自己看的懂

## 总结

1. 函数责任区分清楚
2. 组合优于继承
3. 状态模式与战略模式的好处
4. 重构后对于完整测试的必要性
5. 重构后对于程序较于原本程序的效率问题比较

